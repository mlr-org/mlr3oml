<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started • mlr3oml</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3oml</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.10.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-alt"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-link"></span> mlr3book</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/tutorial.html">Getting Started</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3oml/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/"><span class="fa fa-rss"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3oml/blob/main/vignettes/articles/tutorial.Rmd" class="external-link"><code>vignettes/articles/tutorial.Rmd</code></a></small>
      <div class="d-none name"><code>tutorial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="mlr3oml">mlr3oml<a class="anchor" aria-label="anchor" href="#mlr3oml"></a>
</h2>
<p>This tutorial will give you a quick overview of the main features of
<code>mlr3oml</code>. If you are not familiar with <a href="https://docs.openml.org/" class="external-link">OpenML</a>, we recommend to read <a href="https://docs.openml.org" class="external-link">its documentation</a> first, as we will
not explain the OpenML concepts in detail here. Further coverage of some
selected <code>mlr3oml</code> features can be found in the <a href="https://mlr3book.mlr-org.com/chapters/chapter11/large-scale_benchmarking.html" class="external-link">Large-Scale
Benchmarking chapter</a> of the <code>mlr3book</code>. Note that
<code>mlr3oml</code> currently only supports downloading objects from
OpenML. Uploading can for example be achieved through the <a href="https://openml.org" class="external-link">website</a>.</p>
<p>First, we will briefly cover the different OpenML objects that can be
downloaded using <code>mlr3oml</code>. Then we will show how to find
objects with certain properties on OpenML. Finally, we will quickly
discuss some further aspects of <code>mlr3oml</code>, which includes
caching, file formats, laziness, the logger, and the API key.</p>
<div class="section level3">
<h3 id="sec-objects">OpenML Objects<a class="anchor" aria-label="anchor" href="#sec-objects"></a>
</h3>
<p><code>mlr3oml</code> supports five different types of OpenML objects
that are listed below. All objects can be converted to their
corresponding <code>mlr3</code> pandeaunt.</p>
<ul>
<li>
<a href="https://mlr3oml.mlr-org.com/reference/oml_data.html"><code>OMLData</code></a>
represents an <a href="https://www.openml.org/search?type=data&amp;sort=runs&amp;status=active" class="external-link">OpenML
dataset</a>. These are (usually tabular) sets with additional meta-data,
which includes e.g. a description of the dataset or a license. The most
similar <code>mlr3</code> class is the <a href="https://mlr3.mlr-org.com/reference/DataBackend.html" class="external-link"><code>mlr3::DataBackend</code></a>.</li>
<li>
<a href="https://mlr3oml.mlr-org.com/reference/oml_task.html"><code>OMLTask</code></a>
represents an <a href="https://www.openml.org/search?type=task&amp;sort=runs" class="external-link">OpenML
task</a>. This is a concrete problem speficiation on top of an OpenML
dataset. While being similar to <a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link"><code>mlr3::Task</code></a>
objects, a major difference is that the OpenML task also contains the
resampling splits and can therefore also be converted to an <a href="https://mlr3.mlr-org.com/reference/Resampling.html" class="external-link"><code>mlr3::Resampling</code></a>.</li>
<li>
<a href="https://mlr3oml.mlr-org.com/reference/oml_flow.html"><code>OMLFlow</code></a>
represents an <a href="https://www.openml.org/search?type=flow&amp;sort=runs" class="external-link">OpenML
flow</a>. This is a reusable and executable representation of a machine
learning pipeline or workflow. The closest <code>mlr3</code> class is
the <a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link"><code>Learner</code></a>.</li>
<li>
<a href="https://mlr3oml.mlr-org.com/reference/oml_run.html"><code>OMLRun</code></a>
represents an <a href="https://www.openml.org/search?type=run&amp;sort=date" class="external-link">OpenML
run</a>. An OpenML run refers to the execution of a specific machine
learning flow on a particular task, recording all relevant information
such as hyperparameters, performance metrics, and intermediate results.
This is similar to an <a href="https://mlr3.mlr-org.com/reference/ResampleResult.html" class="external-link"><code>mlr3::ResampleResult</code></a>
object.</li>
<li>
<a href="https://mlr3oml.mlr-org.com/reference/oml_collection.html"><code>OMLCollection</code></a>
represents an OpenML collection, which can either be a <a href="https://www.openml.org/search?type=study&amp;study_type=run" class="external-link">run
collection</a> or a <a href="https://www.openml.org/search?type=study&amp;study_type=task" class="external-link">task
collection</a>. These are container objects that allow to bundle tasks
(resulting in benchmarking suites) or runs (which can be used to
represent benchmark experiments). There is no <code>mlr3</code> pendant
for the former (other than a list of tasks), while the latter would
correspond to an <a href="https://mlr3.mlr-org.com/reference/BenchmarkResult.html" class="external-link"><code>mlr3::BenchmarkResult</code></a>.</li>
</ul>
<p>Each object on OpenML has a unique identifier, by which it can be
retrieved. We will now briefly show how to access and work with these
objects.</p>
<div class="section level4">
<h4 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h4>
<p>Below, we retrieve the dataset with ID 31, which is the credit-g data
and can be viewed online <a href="https://www.openml.org/search?type=data&amp;sort=runs&amp;status=active&amp;id=31" class="external-link">here</a>.
Like in other <code>mlr3</code> packages, sugar functions exist for the
construction of <code>R6</code> classes. We always show both ways to
construct the objects.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3oml.mlr-org.com">mlr3oml</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3.mlr-org.com" class="external-link">mlr3</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">oml_data</span> <span class="op">=</span> <span class="va"><a href="../reference/oml_data.html">OMLData</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">31</span><span class="op">)</span></span>
<span><span class="co"># is the same as</span></span>
<span><span class="va">oml_data</span> <span class="op">=</span> <span class="fu"><a href="../reference/odt.html">odt</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">31</span><span class="op">)</span></span>
<span><span class="va">oml_data</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLData:31:credit-g&gt; (1000x21)</span></span>
<span><span class="co">##  * Default target: class</span></span></code></pre>
<p>The full meta data can be accessed using the <code>$desc</code>
field. Some fields, such as the number of rows and columns can be
accessed directly.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the usage licence</span></span>
<span><span class="va">oml_data</span><span class="op">$</span><span class="va">desc</span><span class="op">$</span><span class="va">licence</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Public"</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the data dimension</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>n_rows <span class="op">=</span> <span class="va">oml_data</span><span class="op">$</span><span class="va">nrow</span>, n_cols <span class="op">=</span> <span class="va">oml_data</span><span class="op">$</span><span class="va">ncol</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## n_rows n_cols </span></span>
<span><span class="co">##   1000     21</span></span></code></pre>
<p>Information about the features can be accessed through the
<code>$features</code> field. This includes information regarding the
data types, missing values, whether they should be ignored for learning
or whether they are the row identifier.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">oml_data</span><span class="op">$</span><span class="va">features</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Key: &lt;index&gt;</span></span>
<span><span class="co">##    index            name data_type</span></span>
<span><span class="co">##    &lt;int&gt;          &lt;char&gt;    &lt;fctr&gt;</span></span>
<span><span class="co">## 1:     0 checking_status   nominal</span></span>
<span><span class="co">## 2:     1        duration   numeric</span></span>
<span><span class="co">## 3:     2  credit_history   nominal</span></span>
<span><span class="co">## 4:     3         purpose   nominal</span></span>
<span><span class="co">## 5:     4   credit_amount   numeric</span></span>
<span><span class="co">## 6:     5  savings_status   nominal</span></span>
<span><span class="co">##                                                                                   nominal_value</span></span>
<span><span class="co">##                                                                                          &lt;list&gt;</span></span>
<span><span class="co">## 1:                                                                0&lt;=X&lt;200,&lt;0,&gt;=200,no checking</span></span>
<span><span class="co">## 2:                                                                                             </span></span>
<span><span class="co">## 3: all paid,critical/other existing credit,delayed previously,existing paid,no credits/all paid</span></span>
<span><span class="co">## 4:                  business,domestic appliance,education,furniture/equipment,new car,other,...</span></span>
<span><span class="co">## 5:                                                                                             </span></span>
<span><span class="co">## 6:                                          100&lt;=X&lt;500,500&lt;=X&lt;1000,&lt;100,&gt;=1000,no known savings</span></span>
<span><span class="co">##    is_target is_ignore is_row_identifier number_of_missing_values</span></span>
<span><span class="co">##       &lt;lgcl&gt;    &lt;lgcl&gt;            &lt;lgcl&gt;                    &lt;int&gt;</span></span>
<span><span class="co">## 1:     FALSE     FALSE             FALSE                        0</span></span>
<span><span class="co">## 2:     FALSE     FALSE             FALSE                        0</span></span>
<span><span class="co">## 3:     FALSE     FALSE             FALSE                        0</span></span>
<span><span class="co">## 4:     FALSE     FALSE             FALSE                        0</span></span>
<span><span class="co">## 5:     FALSE     FALSE             FALSE                        0</span></span>
<span><span class="co">## 6:     FALSE     FALSE             FALSE                        0</span></span></code></pre>
<p>The data itself can be accessed using the <code>$data</code> field.
We only show a subset of the data here for readability.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_data</span><span class="op">$</span><span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##    checking_status duration                 credit_history</span></span>
<span><span class="co">##             &lt;fctr&gt;    &lt;int&gt;                         &lt;fctr&gt;</span></span>
<span><span class="co">## 1:              &lt;0        6 critical/other existing credit</span></span>
<span><span class="co">## 2:        0&lt;=X&lt;200       48                  existing paid</span></span>
<span><span class="co">## 3:     no checking       12 critical/other existing credit</span></span>
<span><span class="co">## 4:              &lt;0       42                  existing paid</span></span>
<span><span class="co">## 5:              &lt;0       24             delayed previously</span></span></code></pre>
<p>We can convert this object to an <code><a href="https://mlr3.mlr-org.com/reference/DataBackend.html" class="external-link">mlr3::DataBackend</a></code> using
the <code><a href="https://mlr3.mlr-org.com/reference/as_data_backend.html" class="external-link">as_data_backend()</a></code> function.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">backend</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_data_backend.html" class="external-link">as_data_backend</a></span><span class="op">(</span><span class="va">oml_data</span><span class="op">)</span></span>
<span><span class="va">backend</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;DataBackendDataTable&gt; (1000x22)</span></span>
<span><span class="co">##  checking_status duration                 credit_history             purpose</span></span>
<span><span class="co">##           &lt;fctr&gt;    &lt;int&gt;                         &lt;fctr&gt;              &lt;fctr&gt;</span></span>
<span><span class="co">##               &lt;0        6 critical/other existing credit            radio/tv</span></span>
<span><span class="co">##         0&lt;=X&lt;200       48                  existing paid            radio/tv</span></span>
<span><span class="co">##      no checking       12 critical/other existing credit           education</span></span>
<span><span class="co">##               &lt;0       42                  existing paid furniture/equipment</span></span>
<span><span class="co">##               &lt;0       24             delayed previously             new car</span></span>
<span><span class="co">##      no checking       36                  existing paid           education</span></span>
<span><span class="co">##  credit_amount   savings_status employment installment_commitment</span></span>
<span><span class="co">##          &lt;int&gt;           &lt;fctr&gt;     &lt;fctr&gt;                  &lt;int&gt;</span></span>
<span><span class="co">##           1169 no known savings        &gt;=7                      4</span></span>
<span><span class="co">##           5951             &lt;100     1&lt;=X&lt;4                      2</span></span>
<span><span class="co">##           2096             &lt;100     4&lt;=X&lt;7                      2</span></span>
<span><span class="co">##           7882             &lt;100     4&lt;=X&lt;7                      2</span></span>
<span><span class="co">##           4870             &lt;100     1&lt;=X&lt;4                      3</span></span>
<span><span class="co">##           9055 no known savings     1&lt;=X&lt;4                      2</span></span>
<span><span class="co">##     personal_status other_parties residence_since property_magnitude   age</span></span>
<span><span class="co">##              &lt;fctr&gt;        &lt;fctr&gt;           &lt;int&gt;             &lt;fctr&gt; &lt;int&gt;</span></span>
<span><span class="co">##         male single          none               4        real estate    67</span></span>
<span><span class="co">##  female div/dep/mar          none               2        real estate    22</span></span>
<span><span class="co">##         male single          none               3        real estate    49</span></span>
<span><span class="co">##         male single     guarantor               4     life insurance    45</span></span>
<span><span class="co">##         male single          none               4  no known property    53</span></span>
<span><span class="co">##         male single          none               4  no known property    35</span></span>
<span><span class="co">##  other_payment_plans  housing existing_credits                job</span></span>
<span><span class="co">##               &lt;fctr&gt;   &lt;fctr&gt;            &lt;int&gt;             &lt;fctr&gt;</span></span>
<span><span class="co">##                 none      own                2            skilled</span></span>
<span><span class="co">##                 none      own                1            skilled</span></span>
<span><span class="co">##                 none      own                1 unskilled resident</span></span>
<span><span class="co">##                 none for free                1            skilled</span></span>
<span><span class="co">##                 none for free                2            skilled</span></span>
<span><span class="co">##                 none for free                1 unskilled resident</span></span>
<span><span class="co">##  num_dependents own_telephone foreign_worker  class ..row_id</span></span>
<span><span class="co">##           &lt;int&gt;        &lt;fctr&gt;         &lt;fctr&gt; &lt;fctr&gt;    &lt;int&gt;</span></span>
<span><span class="co">##               1           yes            yes   good        1</span></span>
<span><span class="co">##               1          none            yes    bad        2</span></span>
<span><span class="co">##               2          none            yes   good        3</span></span>
<span><span class="co">##               2          none            yes   good        4</span></span>
<span><span class="co">##               2          none            yes    bad        5</span></span>
<span><span class="co">##               2           yes            yes   good        6</span></span>
<span><span class="co">## [...] (994 rows omitted)</span></span></code></pre>
<p>Because this specific dataset has a default target in its meta data,
we can also directly convert it to an <code><a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the default target</span></span>
<span><span class="va">oml_data</span><span class="op">$</span><span class="va">target_names</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "class"</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># convert the OpenML data to an mlr3 task</span></span>
<span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_task.html" class="external-link">as_task</a></span><span class="op">(</span><span class="va">oml_data</span><span class="op">)</span></span></code></pre></div>
<p>With either the <code>backend</code> or the <code>task</code>, we are
now in <code>mlr3</code> land again, and can work with the objects as
usual:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rr</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/resample.html" class="external-link">resample</a></span><span class="op">(</span><span class="va">task</span>, <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">lrn</a></span><span class="op">(</span><span class="st">"classif.rpart"</span><span class="op">)</span>, <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span><span class="op">(</span><span class="st">"holdout"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="task">Task<a class="anchor" aria-label="anchor" href="#task"></a>
</h4>
<p>Below, we access the OpenML task with <a href="https://www.openml.org/search?type=task&amp;id=261&amp;sort=runs" class="external-link">ID
261</a>, which is a classification task built on top of the credit-g
data used above. Its associated resampling is a 2/3 holdout split.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_task</span> <span class="op">=</span> <span class="va"><a href="../reference/oml_task.html">OMLTask</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">261</span><span class="op">)</span></span>
<span><span class="co"># is the same as</span></span>
<span><span class="va">oml_task</span> <span class="op">=</span> <span class="fu"><a href="../reference/otsk.html">otsk</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">261</span><span class="op">)</span></span>
<span><span class="va">oml_task</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLTask:261&gt;</span></span>
<span><span class="co">##  * Type: Supervised Classification</span></span>
<span><span class="co">##  * Data: credit-g (id: 31; dim: 1000x21)</span></span>
<span><span class="co">##  * Target: class</span></span>
<span><span class="co">##  * Estimation: holdout (id: 6; test size: 33%)</span></span></code></pre>
<p>The OpenML data that the task is built on top of can be accessed
through <code>$data</code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_task</span><span class="op">$</span><span class="va">data</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLData:31:credit-g&gt; (1000x21)</span></span>
<span><span class="co">##  * Default target: class</span></span></code></pre>
<p>We can also access the target columns and the features. Note that
this target <em>can</em> differ from the default target shown in the
previous section.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_task</span><span class="op">$</span><span class="va">target_names</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "class"</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_task</span><span class="op">$</span><span class="va">feature_names</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "checking_status"        "duration"               "credit_history"        </span></span>
<span><span class="co">##  [4] "purpose"                "credit_amount"          "savings_status"        </span></span>
<span><span class="co">##  [7] "employment"             "installment_commitment" "personal_status"       </span></span>
<span><span class="co">## [10] "other_parties"          "residence_since"        "property_magnitude"    </span></span>
<span><span class="co">## [13] "age"                    "other_payment_plans"    "housing"               </span></span>
<span><span class="co">## [16] "existing_credits"       "job"                    "num_dependents"        </span></span>
<span><span class="co">## [19] "own_telephone"          "foreign_worker"</span></span></code></pre>
<p>The associated resampling splits can be accessed using
<code>$task_splits</code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_task</span><span class="op">$</span><span class="va">task_splits</span></span></code></pre></div>
<pre><code><span><span class="co">##         type rowid repeat.  fold</span></span>
<span><span class="co">##       &lt;fctr&gt; &lt;int&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">##    1:   TEST   490       0     0</span></span>
<span><span class="co">##    2:   TEST   539       0     0</span></span>
<span><span class="co">##    3:   TEST   694       0     0</span></span>
<span><span class="co">##    4:   TEST   646       0     0</span></span>
<span><span class="co">##    5:   TEST   150       0     0</span></span>
<span><span class="co">##   ---                           </span></span>
<span><span class="co">##  996:  TRAIN   875       0     0</span></span>
<span><span class="co">##  997:  TRAIN   549       0     0</span></span>
<span><span class="co">##  998:  TRAIN   195       0     0</span></span>
<span><span class="co">##  999:  TRAIN   241       0     0</span></span>
<span><span class="co">## 1000:  TRAIN   360       0     0</span></span></code></pre>
<p>The conversion to an <code><a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a></code> is possible using the
<code><a href="https://mlr3.mlr-org.com/reference/as_task.html" class="external-link">as_task()</a></code> converter.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert OpenML task to mlr3 task</span></span>
<span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_task.html" class="external-link">as_task</a></span><span class="op">(</span><span class="va">oml_task</span><span class="op">)</span></span>
<span><span class="va">task</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;TaskClassif:credit-g&gt; (1000 x 21)</span></span>
<span><span class="co">## * Target: class</span></span>
<span><span class="co">## * Properties: twoclass</span></span>
<span><span class="co">## * Features (20):</span></span>
<span><span class="co">##   - fct (13): checking_status, credit_history, employment,</span></span>
<span><span class="co">##     foreign_worker, housing, job, other_parties, other_payment_plans,</span></span>
<span><span class="co">##     own_telephone, personal_status, property_magnitude, purpose,</span></span>
<span><span class="co">##     savings_status</span></span>
<span><span class="co">##   - int (7): age, credit_amount, duration, existing_credits,</span></span>
<span><span class="co">##     installment_commitment, num_dependents, residence_since</span></span></code></pre>
<p>The associated resampling can be obtained by calling
<code><a href="https://mlr3.mlr-org.com/reference/as_resampling.html" class="external-link">as_resampling()</a></code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert OpenML task to mlr3 resampling</span></span>
<span><span class="va">resampling</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_resampling.html" class="external-link">as_resampling</a></span><span class="op">(</span><span class="va">oml_task</span><span class="op">)</span></span>
<span><span class="va">resampling</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;ResamplingCustom&gt;: Custom Splits</span></span>
<span><span class="co">## * Iterations: 1</span></span>
<span><span class="co">## * Instantiated: TRUE</span></span>
<span><span class="co">## * Parameters: list()</span></span></code></pre>
<p>To simplify this, there exist <code>"oml"</code> tasks and
resamplings:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">tsk</a></span><span class="op">(</span><span class="st">"oml"</span>, task_id <span class="op">=</span> <span class="fl">261</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;TaskClassif:credit-g&gt; (1000 x 21)</span></span>
<span><span class="co">## * Target: class</span></span>
<span><span class="co">## * Properties: twoclass</span></span>
<span><span class="co">## * Features (20):</span></span>
<span><span class="co">##   - fct (13): checking_status, credit_history, employment,</span></span>
<span><span class="co">##     foreign_worker, housing, job, other_parties, other_payment_plans,</span></span>
<span><span class="co">##     own_telephone, personal_status, property_magnitude, purpose,</span></span>
<span><span class="co">##     savings_status</span></span>
<span><span class="co">##   - int (7): age, credit_amount, duration, existing_credits,</span></span>
<span><span class="co">##     installment_commitment, num_dependents, residence_since</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">rsmp</a></span><span class="op">(</span><span class="st">"oml"</span>, task_id <span class="op">=</span> <span class="fl">261</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;ResamplingCustom&gt;: Custom Splits</span></span>
<span><span class="co">## * Iterations: 1</span></span>
<span><span class="co">## * Instantiated: TRUE</span></span>
<span><span class="co">## * Parameters: list()</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="flows-and-runs">Flows and Runs<a class="anchor" aria-label="anchor" href="#flows-and-runs"></a>
</h4>
<p>We can access the flow with <a href="https://www.openml.org/search?type=flow&amp;sort=runs&amp;id=1068" class="external-link">ID
1068</a> as shown below:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flow</span> <span class="op">=</span> <span class="va"><a href="../reference/oml_flow.html">OMLFlow</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1068</span><span class="op">)</span></span>
<span><span class="co"># is the same as</span></span>
<span><span class="va">flow</span> <span class="op">=</span> <span class="fu"><a href="../reference/oflw.html">oflw</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1068</span><span class="op">)</span></span>
<span><span class="va">flow</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLFlow:1068&gt;</span></span>
<span><span class="co">##  * Name: weka.J48</span></span>
<span><span class="co">##  * Dependencies: Weka_3.7.12</span></span></code></pre>
<p>Flows themself only become interesting once they are applied to a
task, the result of which is an OpenML run.</p>
<p>For example, the run with <a href="https://www.openml.org/search?type=run&amp;sort=date&amp;id=169061" class="external-link">ID
169061</a> contains the result of applying the above flow to task 261
from above:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run</span> <span class="op">=</span> <span class="va"><a href="../reference/oml_run.html">OMLRun</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">169061</span><span class="op">)</span></span>
<span><span class="co"># is the same as</span></span>
<span><span class="va">run</span> <span class="op">=</span> <span class="fu"><a href="../reference/orn.html">orn</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">169061</span><span class="op">)</span></span>
<span><span class="va">run</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLRun:169061&gt;</span></span>
<span><span class="co">##  * Task: credit-g (id: 261)</span></span>
<span><span class="co">##  * Flow: weka.J48 (id: 1068)</span></span>
<span><span class="co">##  * Estimation: holdout (id: 6; test size: 33%)</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the corresponding flow and and task can be accessed directly</span></span>
<span><span class="va">run</span><span class="op">$</span><span class="va">flow</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLFlow:1068&gt;</span></span>
<span><span class="co">##  * Name: weka.J48</span></span>
<span><span class="co">##  * Dependencies: Weka_3.7.12</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">run</span><span class="op">$</span><span class="va">task</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLTask:261&gt;</span></span>
<span><span class="co">##  * Type: Supervised Classification</span></span>
<span><span class="co">##  * Data: credit-g (id: 31; dim: 1000x21)</span></span>
<span><span class="co">##  * Target: class</span></span>
<span><span class="co">##  * Estimation: holdout (id: 6; test size: 33%)</span></span></code></pre>
<p>The result of this experiment are the predictions, as well as the
evaluation of these predictions.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">run</span><span class="op">$</span><span class="va">prediction</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    repeat.  fold row_id confidence.good confidence.bad prediction correct</span></span>
<span><span class="co">##      &lt;int&gt; &lt;int&gt;  &lt;int&gt;           &lt;num&gt;          &lt;num&gt;     &lt;fctr&gt;  &lt;fctr&gt;</span></span>
<span><span class="co">## 1:       0     0    490        0.920000       0.080000       good    good</span></span>
<span><span class="co">## 2:       0     0    539        0.885714       0.114286       good    good</span></span>
<span><span class="co">## 3:       0     0    694        0.920000       0.080000       good    good</span></span>
<span><span class="co">## 4:       0     0    646        0.727273       0.272727       good    good</span></span>
<span><span class="co">## 5:       0     0    150        0.727273       0.272727       good    good</span></span>
<span><span class="co">## 6:       0     0    970        0.166667       0.833333        bad    good</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">run</span><span class="op">$</span><span class="va">evaluation</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                             name     value        array_data repeat  fold</span></span>
<span><span class="co">##                           &lt;char&gt;     &lt;num&gt;            &lt;list&gt; &lt;char&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:          area_under_roc_curve  0.657856 0.657856,0.657856   &lt;NA&gt;    NA</span></span>
<span><span class="co">## 2:                  average_cost  0.000000                NA   &lt;NA&gt;    NA</span></span>
<span><span class="co">## 3:                     f_measure  0.705442 0.795745,0.494737   &lt;NA&gt;    NA</span></span>
<span><span class="co">## 4:                         kappa  0.290990                NA   &lt;NA&gt;    NA</span></span>
<span><span class="co">## 5: kb_relative_information_score 53.759911                NA   &lt;NA&gt;    NA</span></span>
<span><span class="co">## 6:           mean_absolute_error  0.342722                NA   &lt;NA&gt;    NA</span></span></code></pre>
<p>OpenML runs can be converted to <code><a href="https://mlr3.mlr-org.com/reference/ResampleResult.html" class="external-link">mlr3::ResampleResult</a></code>s
using the <code><a href="https://mlr3.mlr-org.com/reference/as_resample_result.html" class="external-link">as_resample_result()</a></code> function.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rr</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_resample_result.html" class="external-link">as_resample_result</a></span><span class="op">(</span><span class="va">run</span><span class="op">)</span></span>
<span><span class="va">rr</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;ResampleResult&gt; with 2 resampling iterations</span></span>
<span><span class="co">##   task_id learner_id resampling_id iteration warnings errors</span></span>
<span><span class="co">##  credit-g   oml.1068        custom         1        0      0</span></span>
<span><span class="co">##  credit-g   oml.1068        custom         1        0      0</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="collection">Collection<a class="anchor" aria-label="anchor" href="#collection"></a>
</h4>
<p>Below, we access the <a href="https://www.openml.org/search?type=study&amp;study_type=task&amp;id=99" class="external-link">OpenML-CC18</a>,
which is a curated collection of 72 OpenML classification tasks, i.e. a
task collection.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cc18</span> <span class="op">=</span> <span class="va"><a href="../reference/oml_collection.html">OMLCollection</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>id <span class="op">=</span> <span class="fl">99</span><span class="op">)</span></span>
<span><span class="co"># is the same as</span></span>
<span><span class="va">cc18</span> <span class="op">=</span> <span class="fu"><a href="../reference/ocl.html">ocl</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">99</span><span class="op">)</span></span></code></pre></div>
<p>The ids of the tasks and datasets contained in this benchmarking
suite can be accessed through the fields <code>$task_ids</code> and
<code>$data_ids</code> respectively.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the first 10 task ids</span></span>
<span><span class="va">cc18</span><span class="op">$</span><span class="va">task_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]  3  6 11 12 14 15 16 18 22 23</span></span></code></pre>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the first 10 data ids</span></span>
<span><span class="va">cc18</span><span class="op">$</span><span class="va">data_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1]  3  6 11 12 14 15 16 18 22 23</span></span></code></pre>
<p>We can, e.g., create an <code><a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a></code> from the first of
these tasks as follows:</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">task1</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">tsk</a></span><span class="op">(</span><span class="st">"oml"</span>, task_id <span class="op">=</span> <span class="va">cc18</span><span class="op">$</span><span class="va">task_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">task1</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;TaskClassif:kr-vs-kp&gt; (3196 x 37)</span></span>
<span><span class="co">## * Target: class</span></span>
<span><span class="co">## * Properties: twoclass</span></span>
<span><span class="co">## * Features (36):</span></span>
<span><span class="co">##   - fct (36): bkblk, bknwy, bkon8, bkona, bkspr, bkxbq, bkxcr, bkxwp,</span></span>
<span><span class="co">##     blxwp, bxqsq, cntxt, dsopp, dwipd, hdchk, katri, mulch, qxmsq,</span></span>
<span><span class="co">##     r2ar8, reskd, reskr, rimmx, rkxwp, rxmsq, simpl, skach, skewr,</span></span>
<span><span class="co">##     skrxp, spcop, stlmt, thrsk, wkcti, wkna8, wknck, wkovl, wkpos,</span></span>
<span><span class="co">##     wtoeg</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="sec-listing">Listing<a class="anchor" aria-label="anchor" href="#sec-listing"></a>
</h3>
<p>While we showed how to work with objects with known IDs, another
important question is how to find the relevant IDs. This can either be
achieved through the OpenML <a href="https://openml.org" class="external-link">website</a> or
through the REST API. To access the latter, <code>mlr3oml</code>
provides the following <a href="https://mlr3oml.mlr-org.com/reference/list_oml.html">listing
functions</a>:</p>
<ul>
<li>
<code><a href="../reference/list_oml.html">list_oml_data()</a></code> - Find datasets</li>
<li>
<code><a href="../reference/list_oml.html">list_oml_tasks()</a></code> - Find tasks</li>
<li>
<code><a href="../reference/list_oml.html">list_oml_flows()</a></code> - Find flows</li>
<li>
<code><a href="../reference/list_oml.html">list_oml_runs()</a></code> - Find runs</li>
</ul>
<p>As an example, we will only show the usage of the first function, but
all others work analogously.</p>
<p>We can, for example, subset the datasets contained in the CC-18 even
further. Below, we only select datasets that have between 0 and 10
features.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cc18_filtered</span> <span class="op">=</span> <span class="fu"><a href="../reference/list_oml.html">list_oml_tasks</a></span><span class="op">(</span></span>
<span>  data_id <span class="op">=</span> <span class="va">cc18</span><span class="op">$</span><span class="va">data_ids</span>,</span>
<span>  number_features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">cc18_filtered</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"task_id"</span>, <span class="st">"name"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##    task_id                name</span></span>
<span><span class="co">##      &lt;int&gt;              &lt;char&gt;</span></span>
<span><span class="co">## 1:      11       balance-scale</span></span>
<span><span class="co">## 2:      15            breast-w</span></span>
<span><span class="co">## 3:      18 mfeat-morphological</span></span>
<span><span class="co">## 4:      23                 cmc</span></span>
<span><span class="co">## 5:      37            diabetes</span></span></code></pre>
<p>Note that not all possible property specifications can be directly
queried on OpenML. As the resulting tables are <code>data.table</code>s
containing information about the datasets, they can be further filtered
using the usual <code>data.table</code> syntax.</p>
</div>
<div class="section level3">
<h3 id="uploading">Uploading<a class="anchor" aria-label="anchor" href="#uploading"></a>
</h3>
<p>You can currently upload datasets to OpenML or create tasks and
collections using the functions:</p>
<ul>
<li>
<code><a href="../reference/publish_data.html">publish_data()</a></code> to upload a dataset,</li>
<li>
<code><a href="../reference/publish_task.html">publish_task()</a></code> to create a task, and</li>
<li>
<code><a href="../reference/publish_collection.html">publish_collection()</a></code> to create a collection.</li>
</ul>
<p>For this, you need an API key.</p>
</div>
<div class="section level3">
<h3 id="api-key">API Key<a class="anchor" aria-label="anchor" href="#api-key"></a>
</h3>
<p>All download operations supported by this package work without an API
key, but you might get rate limited without an API key. For uploading to
OpenML, you need an API key. The API key can be specified via the option
<code>mlr3oml.api_key</code> or the environment variable
<code>OPENMLAPIKEY</code> (where the former has precedence over the
latter). To obtain an API key, you must <a href="https://www.openml.org/auth/sign-up" class="external-link">create an account on
OpenML</a>.</p>
</div>
<div class="section level3">
<h3 id="further-aspects">Further Aspects<a class="anchor" aria-label="anchor" href="#further-aspects"></a>
</h3>
<div class="section level4">
<h4 id="logging">Logging<a class="anchor" aria-label="anchor" href="#logging"></a>
</h4>
<p><code>mlr3oml</code> has its own logger, which can be accessed using
<code>lgr::get_logger("mlr3oml")</code>. For more information about
logging in general (such as chaning the logging threshold), we refer to
the corresponding <a href="https://mlr3book.mlr-org.com/chapters/chapter10/advanced_technical_aspects_of_mlr3.html#sec-logging" class="external-link">section</a>
in the <code>mlr3book</code>.</p>
</div>
<div class="section level4">
<h4 id="laziness">Laziness<a class="anchor" aria-label="anchor" href="#laziness"></a>
</h4>
<p>All objects accessed through <code>mlr3oml</code> must be downloaded
from the OpenML server. This is done lazily, which means that data is
only downloaded when it is actually accessed. To show this, we change
the logging level, which was previously set to <code>"warn"</code> (to
keep the output clean), to <code>"info"</code>.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">logger</span> <span class="op">=</span> <span class="fu">lgr</span><span class="fu">::</span><span class="fu"><a href="https://s-fleck.github.io/lgr/reference/get_logger.html" class="external-link">get_logger</a></span><span class="op">(</span><span class="st">"mlr3oml"</span><span class="op">)</span></span>
<span><span class="va">logger</span><span class="op">$</span><span class="fu">set_threshold</span><span class="op">(</span><span class="st">"info"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">oml_data</span> <span class="op">=</span> <span class="fu"><a href="../reference/odt.html">odt</a></span><span class="op">(</span><span class="fl">31</span><span class="op">)</span></span>
<span><span class="co"># to print the object, some meta data must be downloaded</span></span>
<span><span class="va">oml_data</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO  [17:32:30.118] Retrieving JSON <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://www.openml.org/api/v1/json/data/31`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span>
<span><span class="co">## INFO  [17:32:30.316] Retrieving JSON <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://www.openml.org/api/v1/json/data/qualities/31`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span>
<span><span class="co">## INFO  [17:32:30.497] Retrieving JSON <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://www.openml.org/api/v1/json/data/features/31`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span>
<span><span class="co">## &lt;OMLData:31:credit-g&gt; (1000x21)</span></span>
<span><span class="co">##  * Default target: class</span></span></code></pre>
<p>To download all information associated with an object, the
<code>$download()</code> method can be called. This can be useful to
ensure that all information is available offline. In this case, only the
actual underlying data is downloaded, as everything else was already
implicityly accessed above.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oml_data</span><span class="op">$</span><span class="fu">download</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO  [17:32:30.738] Retrieving ARFF <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://api.openml.org/data/v1/download/31/credit-g.arff`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span></code></pre>
</div>
<div class="section level4">
<h4 id="caching">Caching<a class="anchor" aria-label="anchor" href="#caching"></a>
</h4>
<p>Caching of OpenML objects can be enabled by setting the
<code>mlr3oml.cache</code> option to either <code>TRUE</code> or
<code>FALSE</code> (default), or to a specific folder to be used as the
cache directory. When this is enabled, many OpenML objects are also
available offline. Note that OpenML collections are not cached, as IDs
can be added or removed.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set a temporary directy as the cache folder</span></span>
<span><span class="va">cache_dir</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>mlr3oml.cache <span class="op">=</span> <span class="va">cache_dir</span><span class="op">)</span></span>
<span></span>
<span><span class="va">odata</span> <span class="op">=</span> <span class="fu"><a href="../reference/odt.html">odt</a></span><span class="op">(</span><span class="fl">31</span><span class="op">)</span></span>
<span><span class="va">odata</span></span></code></pre></div>
<pre><code><span><span class="co">## INFO  [17:32:31.186] Retrieving JSON <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://www.openml.org/api/v1/json/data/31`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span>
<span><span class="co">## INFO  [17:32:31.356] Retrieving JSON <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://www.openml.org/api/v1/json/data/qualities/31`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span>
<span><span class="co">## INFO  [17:32:31.528] Retrieving JSON <span style="color: #808080;">{</span><span style="color: #D75FAF;">url</span><span style="color: #808080;">: </span>`https://www.openml.org/api/v1/json/data/features/31`<span style="color: #808080;">, </span><span style="color: #D75FAF;">authenticated</span><span style="color: #808080;">: </span>`FALSE`<span style="color: #808080;">}</span></span></span>
<span><span class="co">## &lt;OMLData:31:credit-g&gt; (1000x21)</span></span>
<span><span class="co">##  * Default target: class</span></span></code></pre>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># When accessing the data again, nothing has to be downloaded</span></span>
<span><span class="co"># because the information is loaded from the cache</span></span>
<span><span class="va">odata_again</span> <span class="op">=</span> <span class="fu"><a href="../reference/odt.html">odt</a></span><span class="op">(</span><span class="fl">31</span><span class="op">)</span></span>
<span><span class="va">odata_again</span></span></code></pre></div>
<pre><code><span><span class="co">## &lt;OMLData:31:credit-g&gt; (1000x21)</span></span>
<span><span class="co">##  * Default target: class</span></span></code></pre>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set back the logger</span></span>
<span><span class="va">logger</span><span class="op">$</span><span class="fu">set_threshold</span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="data-types">Data Types<a class="anchor" aria-label="anchor" href="#data-types"></a>
</h4>
<p>The datasets on OpenML are available in two different formats, namely
<a href="https://www.cs.waikato.ac.nz/ml/weka/arff.html" class="external-link"><em>arff</em></a>
and <a href="https://parquet.apache.org/" class="external-link"><em>parquet</em></a>. The
former is used by default, but this default can be changed by setting
the <code>mlr3oml.parquet</code> option to <code>TRUE</code>. It is also
possible to specify this during construction of a specific OpenML
object.</p>
<p>While the parquet format is more efficient, arff was the original
format and might therefore considered to be more stable. Moreover, minor
differences for the two different formats for a given data ID can occur,
e.g. regarding the data type.</p>
<p>When converting an <code>OMLData</code> object to an
<code><a href="https://mlr3.mlr-org.com/reference/DataBackend.html" class="external-link">mlr3::DataBackend</a></code> using the parquet file type, the
resulting backend is an <a href="https://mlr3db.mlr-org.com/reference/DataBackendDuckDB.html" class="external-link"><code>mlr3db::DataBackendDuckDB</code></a>
object. For the arff file format, the resulting backend is a <a href="https://mlr3.mlr-org.com/reference/DataBackendDataTable.html" class="external-link"><code>mlr3::DataBackendDataTable</code></a>.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https:///mlr3db.mlr-org.com" class="external-link">mlr3db</a></span><span class="op">)</span></span>
<span><span class="va">odata_pq</span> <span class="op">=</span> <span class="fu"><a href="../reference/odt.html">odt</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">31</span>, parquet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">backend_pq</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_data_backend.html" class="external-link">as_data_backend</a></span><span class="op">(</span><span class="va">odata_pq</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">backend_pq</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "DataBackendDuckDB" "DataBackend"       "R6"</span></span></code></pre>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compare with arff</span></span>
<span><span class="va">odata_arff</span> <span class="op">=</span> <span class="fu"><a href="../reference/odt.html">odt</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">31</span>, parquet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">backend_arff</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/as_data_backend.html" class="external-link">as_data_backend</a></span><span class="op">(</span><span class="va">odata_arff</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">backend_arff</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "DataBackendDataTable" "DataBackend"          "R6"</span></span></code></pre>
<p>For more information on data backends, see the corresponding <a href="https://mlr3book.mlr-org.com/chapters/chapter10/advanced_technical_aspects_of_mlr3.html#sec-backends" class="external-link">section</a>
in the <code>mlr3book</code>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Lang, Sebastian Fischer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
